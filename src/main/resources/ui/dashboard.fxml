<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.chart.LineChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.control.ProgressIndicator?>

<VBox spacing="35"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.echchhit.habittracker.controller.DashboardController"
      styleClass="content-area">

    <Label text="Dashboard" styleClass="page-title"/>

    <HBox spacing="25">

        <VBox spacing="12" styleClass="card" HBox.hgrow="ALWAYS">
            <Label text="Total Habits" styleClass="stat-label"/>
            <Label fx:id="totalHabits" text="0" styleClass="stat-value"/>
        </VBox>

        <VBox spacing="12" styleClass="card" HBox.hgrow="ALWAYS">
            <Label text="Completed Today" styleClass="stat-label"/>
            <Label fx:id="completedToday" text="0" styleClass="stat-value"/>
        </VBox>

        <VBox spacing="12" styleClass="card" HBox.hgrow="ALWAYS">
            <Label text="Best Streak" styleClass="stat-label"/>
            <Label fx:id="bestStreak" text="ðŸ”¥ 0" styleClass="stat-value"/>
        </VBox>

        <VBox spacing="10" styleClass="card" alignment="CENTER" HBox.hgrow="ALWAYS">
            <ProgressIndicator fx:id="completionRing" prefWidth="70" prefHeight="70" progress="0.0"/>
            <Label fx:id="completionPercent" text="0%" styleClass="stat-label"/>
        </VBox>

    </HBox>

    <HBox spacing="25">
        <VBox spacing="15" styleClass="card" HBox.hgrow="ALWAYS">
            <Label text="Today's Focus" styleClass="stat-label"/>
            <Label fx:id="todayFocus" wrapText="true"
                   style="-fx-font-size: 16; -fx-text-fill: #bbb; -fx-font-style: italic;"/>
        </VBox>

        <VBox spacing="15" styleClass="card" HBox.hgrow="ALWAYS">
            <Label text="Last 7 Days" styleClass="stat-label"/>
            <HBox spacing="8" fx:id="heatmapBox" alignment="CENTER_LEFT"/>
        </VBox>
    </HBox>

    <VBox spacing="15" styleClass="card">
        <Label text="Weekly Progress" styleClass="stat-label"/>
        <LineChart fx:id="weeklyChart" createSymbols="true" prefHeight="300">
            <xAxis><CategoryAxis/></xAxis>
            <yAxis><NumberAxis/></yAxis>
        </LineChart>
    </VBox>

</VBox>